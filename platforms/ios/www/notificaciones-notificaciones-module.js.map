{"version":3,"sources":["webpack:///./src/app/notificaciones/notificaciones.module.ts","webpack:///./src/app/notificaciones/notificaciones.page.html","webpack:///./src/app/notificaciones/notificaciones.page.scss","webpack:///./src/app/notificaciones/notificaciones.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACU;AAEV;AAEc;AAE3D,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,uEAAkB;KAC9B;CACF,CAAC;AAWF;IAAA;IAAuC,CAAC;IAA3B,wBAAwB;QATpC,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,uEAAkB,CAAC;SACnC,CAAC;OACW,wBAAwB,CAAG;IAAD,+BAAC;CAAA;AAAH;;;;;;;;;;;;ACzBrC,kyBAAkyB,iBAAiB,iFAAiF,kBAAkB,OAAO,MAAM,OAAO,UAAU,8F;;;;;;;;;;;ACAp7B,0BAA0B,uBAAuB,sBAAsB,EAAE,aAAa,oBAAoB,yBAAyB,8BAA8B,EAAE,YAAY,2BAA2B,EAAE,cAAc,oBAAoB,EAAE,cAAc,oBAAoB,gBAAgB,EAAE,+CAA+C,2/B;;;;;;;;;;;;;;;;;;;;;ACAjS;AACyB;AACf;AACnB;AACiB;AAC1D,gCAAgC;AAOhC;IAiBE,4BAAoB,kBAAsC,EAChD,QAAsB,EACtB,MAAc,EACf,eAAgC;QAHrB,uBAAkB,GAAlB,kBAAkB,CAAoB;QAChD,aAAQ,GAAR,QAAQ,CAAc;QACtB,WAAM,GAAN,MAAM,CAAQ;QACf,oBAAe,GAAf,eAAe,CAAiB;QAlBzC,SAAI,GAAU,EAAE,CAAC;QACjB,UAAK,GAAU,EAAE,CAAC;QAClB,iBAAY,GAAU,EAAE,CAAC;QACzB,aAAQ,GAAU,EAAE,CAAC;QACrB,QAAG,GAAW,EAAE,CAAC;QAGjB,YAAO,GAAG,SAAS,CAAC;QAIpB,YAAO,GAAG,CAAC,CAAC;QACZ,aAAQ,GAAU,EAAE,CAAC;IASrB,CAAC;IAED,qCAAQ,GAAR;QAAA,iBAYC;QAVC,IAAI,CAAC,UAAU,EAAE,CAAC;QAElB,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,cAAI;YACzC,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,KAAI,CAAC,GAAG,GAAG,KAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;QACtC,CAAC,CAAC,CAAC;QAIH,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAGD,0CAAa,GAAb;QAAA,iBAIC;QAHC,WAAW,CAAC;YACV,KAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC,EAAE,KAAK,CAAC,CAAC;IACZ,CAAC;IAGD,6EAA6E;IAI7E,2BAA2B;IAC3B,uCAAU,GAAV;QAAA,iBAuBC;QAtBC,IAAI,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC,SAAS,CACzC,UAAC,IAAI;YACH,IAAI,IAAI,IAAI,IAAI,EAAE;gBAChB,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CACrB,cAAI,IAAI,WAAI,CAAC,UAAU,IAAI,KAAI,CAAC,GAAG,EAA3B,CAA2B,CAAC,CAAC;gBAEvC,KAAI,CAAC,MAAM,GAAG,KAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,iBAAiB,CAAC;gBAC7C,IAAI,KAAI,CAAC,MAAM,GAAG,KAAI,CAAC,OAAO,EAAE;oBAC9B,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,MAAM,CAAC;oBAC3B,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBAC7B,KAAI,CAAC,WAAW,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;oBAChC,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC1B,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;iBAC5B;gBAAA,CAAC;gBACF,8BAA8B;aAC/B;QAEH,CAAC,EACD,UAAC,KAAK;YACJ,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACvB,CAAC,CACF;IACH,CAAC;IAGK,yCAAY,GAAlB,UAAmB,IAAI;;;;;4BACP,qBAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;4BAC9C,MAAM,EAAE,aAAa;4BACrB,OAAO,EAAE,IAAI;4BACb,OAAO,EAAE,CAAC,IAAI,CAAC;yBAChB,CAAC;;wBAJI,KAAK,GAAG,SAIZ;wBACF,qBAAM,KAAK,CAAC,OAAO,EAAE;;wBAArB,SAAqB,CAAC;;;;;KACvB;IAED,kCAAK,GAAL;QACE,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;IAC9B,CAAC;IAGD,wCAAW,GAAX,UAAY,IAAI;QAAhB,iBAmBC;QAlBC,IAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC;QAC7B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAE9B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,cAAI;YAChE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,KAAI,CAAC,YAAY,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACnD,KAAI,CAAC,KAAK,EAAE,CAAC;QACf,CAAC,CAAC,CAAC;QAGH,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC;YAC/B,EAAE,EAAE,CAAC;YACL,KAAK,EAAE,8BAA8B;YACrC,IAAI,EAAE,KAAK;YACX,wDAAwD;YACxD,IAAI,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;SACxB,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IACtB,CAAC;IAGD,iCAAiC;IACjC,sCAAS,GAAT,UAAU,MAAM;QACd,qBAAqB;QACrB,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,UAAU,CAAC;YACT,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC3B,CAAC,EAAE,IAAI,CAAC,CAAC;IAEX,CAAC;IAED,yCAAyC;IACzC,gCAAG,GAAH,UAAI,IAAI,EAAE,QAAQ,EAAE,gBAAgB;QAApC,iBAoDC;QAlDC,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QAE9B,yBAAyB;QAEzB,IAAI,IAAI,GAAG;YACT,UAAU,EAAE,CAAC;SACd,CAAC;QAEF,IAAI,CAAC,QAAQ,CAAC,oBAAoB,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC,SAAS,CAClE,UAAC,IAAI;YACH,IAAI,IAAI,IAAI,IAAI,EAAE;aACjB;QACH,CAAC,EACD,UAAC,KAAK;YACJ,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACvB,CAAC,CACF;QAED,IAAI,IAAI,IAAI,SAAS,EAAE;YACrB,qBAAqB;YACrB,kBAAkB;YAClB,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,SAAS,CAC1C,UAAC,IAAI;gBACH,IAAI,IAAI,IAAI,IAAI,EAAE;oBAChB,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;oBACzB,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBAC/B,KAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBACjD,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;iBACvC;YACH,CAAC,EACD,UAAC,KAAK;gBACJ,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACvB,CAAC,CACF;SACF;aAAM,IAAI,IAAI,IAAI,OAAO,EAAE;YAC1B,sBAAsB;YACtB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,SAAS,CAC5C,UAAC,IAAI;gBACH,IAAI,IAAI,IAAI,IAAI,EAAE;oBAChB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;oBACrB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;oBAClB,KAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;oBAC3C,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;iBACrC;YACH,CAAC,EACD,UAAC,KAAK;gBACJ,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACvB,CAAC,CACF;SACF;IACH,CAAC;IAjLU,kBAAkB;QAL9B,+DAAS,CAAC;YACT,QAAQ,EAAE,oBAAoB;YAC9B,oHAAyC;;SAE1C,CAAC;+EAkBwC,wFAAkB;YACtC,yEAAY;YACd,sDAAM;YACE,8DAAe;OApB9B,kBAAkB,CAkL9B;IAAD,yBAAC;CAAA;AAlL8B","file":"notificaciones-notificaciones-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NotificacionesPage } from './notificaciones.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NotificacionesPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [NotificacionesPage]\n})\nexport class NotificacionesPageModule {}\n","module.exports = \"\\n<ion-content>\\n    <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n        <ion-refresher-content></ion-refresher-content>\\n    </ion-refresher>\\n    <!--ion-button (click)=\\\"simpleNotif()\\\">\\n    notificacion\\n</ion-button-->\\n\\n    <ion-list *ngFor=\\\"let not  of noti\\\">\\n        <ion-item class=\\\"color\\\" [id]=\\\"not.Id_Ttar_Reu\\\" [color]=\\\"botones\\\"\\n            (click)=\\\"ver(not.tipo, not.Id_Ttar_Reu, not.Id_notificaciones)\\\">\\n            <ion-icon slot=\\\"start\\\" *ngIf=\\\"not.VistaMovil == 1\\\" name=\\\"radio-button-off\\\"></ion-icon>\\n            <ion-icon slot=\\\"start\\\" color=\\\"tertiary\\\" *ngIf=\\\"not.VistaMovil == 0\\\" name=\\\"radio-button-on\\\"></ion-icon>\\n            <ion-text color=\\\"dark\\\">\\n                <p class=\\\"letra1\\\">\\n                    {{not.descripcion}}\\n                </p>\\n                <p class=\\\"letra\\\"> <b> Fecha Fin: </b>{{ not.FechaLimite}} &nbsp;&nbsp; <b> {{not.tipo}} </b> </p>\\n            </ion-text>\\n        </ion-item>\\n\\n\\n    </ion-list>\\n</ion-content>\"","module.exports = \".letra {\\n  font-size: smaller;\\n  line-height: 13px; }\\n\\n.letra1 {\\n  font-size: 15px;\\n  margin: 0px 0px 15px;\\n  padding: 12px 0px 0px 0px; }\\n\\n.color {\\n  --background:#d4f6f852; }\\n\\nion-list {\\n  margin: 0px 0px; }\\n\\nion-icon {\\n  font-size: 10px;\\n  color: blue; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbm90aWZpY2FjaW9uZXMvQzpcXHhhbXBwXFxodGRvY3NcXENhcmRpb2NlbnRyb01hbnRhXFxpbmljaW8vc3JjXFxhcHBcXG5vdGlmaWNhY2lvbmVzXFxub3RpZmljYWNpb25lcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBa0I7RUFDbEIsaUJBQWlCLEVBQUE7O0FBR3BCO0VBQ0csZUFBZTtFQUNmLG9CQUFvQjtFQUNwQix5QkFBeUIsRUFBQTs7QUFHNUI7RUFDSSxzQkFBYSxFQUFBOztBQUVsQjtFQUNJLGVBQWUsRUFBQTs7QUFHbkI7RUFDSSxlQUFlO0VBQ2YsV0FBVSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbm90aWZpY2FjaW9uZXMvbm90aWZpY2FjaW9uZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxldHJhIHtcclxuICAgIGZvbnQtc2l6ZTogc21hbGxlcjtcclxuICAgIGxpbmUtaGVpZ2h0OiAxM3B4O1xyXG4gICAgfVxyXG5cclxuIC5sZXRyYTEge1xyXG4gICAgZm9udC1zaXplOiAxNXB4OyBcclxuICAgIG1hcmdpbjogMHB4IDBweCAxNXB4O1xyXG4gICAgcGFkZGluZzogMTJweCAwcHggMHB4IDBweDtcclxuIH0gICBcclxuXHJcbiAuY29sb3J7XHJcbiAgICAgLS1iYWNrZ3JvdW5kOiNkNGY2Zjg1MjtcclxuIH1cclxuaW9uLWxpc3R7XHJcbiAgICBtYXJnaW46IDBweCAwcHg7XHJcbn1cclxuXHJcbmlvbi1pY29ue1xyXG4gICAgZm9udC1zaXplOiAxMHB4O1xyXG4gICAgY29sb3I6Ymx1ZTtcclxufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { LocalNotifications } from '@ionic-native/local-notifications/ngx';\nimport { PostProvider } from 'src/providers/post-providers';\nimport { Router } from '@angular/router';\nimport { IonItem, AlertController } from '@ionic/angular';\n//import { userInfo } from 'os';\n\n@Component({\n  selector: 'app-notificaciones',\n  templateUrl: './notificaciones.page.html',\n  styleUrls: ['./notificaciones.page.scss'],\n})\nexport class NotificacionesPage implements OnInit {\n\n  noti: any[] = [];\n  datos: any[] = [];\n  detreuniones: any[] = [];\n  detareas: any[] = [];\n  id1: string = \"\";\n  botones;\n  id;\n  colores = 'primary';\n  numNoti;\n  mostrarnun;\n  lastid;\n  lastid1 = 0;\n  datonoti: any[] = [];\n  clickSub: any;\n\n  constructor(private localNotifications: LocalNotifications,\n    private postPvdr: PostProvider,\n    private router: Router,\n    public alertController: AlertController\n  ) {\n\n  }\n\n  ngOnInit() {\n\n    this.cargarNoti();\n\n    this.postPvdr.$getListSource.subscribe(list => {\n      this.datos = list;\n      this.id1 = this.datos[0].Id_Usuario;\n    });\n\n\n\n    this.mensajetiempo();\n  }\n\n\n  mensajetiempo() {\n    setInterval(() => {\n      this.cargarNoti();\n    }, 10000);\n  }\n\n\n  //Funcion para generar las notificaciones evaluando la variacion en el tiempo\n\n\n\n  //Carga las notificaciones \n  cargarNoti() {\n    this.postPvdr.getNotificaciones().subscribe(\n      (data) => {\n        if (data != null) {\n          this.noti = data.filter(\n            user => user.Id_Usuario == this.id1);\n\n          this.lastid = this.noti[0].Id_notificaciones;\n          if (this.lastid > this.lastid1) {\n            this.lastid1 = this.lastid;\n            this.datonoti = this.noti[0];\n            this.simpleNotif(this.datonoti);\n            console.log(this.noti[0]);\n            console.log(this.datonoti);\n          };\n          // console.log (this.noti[0]);\n        }\n\n      },\n      (error) => {\n        console.error(error);\n      }\n    )\n  }\n\n\n  async presentAlert(data) {\n    const alert = await this.alertController.create({\n      header: 'Información',\n      message: data,\n      buttons: ['OK']\n    });\n    await alert.present();\n  }\n\n  unsub() {\n    this.clickSub.unsubscribe();\n  }\n\n\n  simpleNotif(dato) {\n    let texto = dato.descripcion;\n    console.log(dato.descripcion);\n\n    this.clickSub = this.localNotifications.on('click').subscribe(data => {\n      console.log(data);\n      this.presentAlert('Detalles: ' + data.data.secret);\n      this.unsub();\n    });\n\n\n    this.localNotifications.schedule({\n      id: 1,\n      title: 'Tiene una nueva notificacion',\n      text: texto,\n      // trigger: {at: new Date(new Date().getTime() + 3600)},\n      data: { secret: texto }\n    });\n    console.log(\"sexy\");\n  }\n\n\n  //Funcion para recargar la pagina\n  doRefresh(evento) {\n    //this.simpleNotif();\n    this.cargarNoti();\n    setTimeout(() => {\n      evento.target.complete();\n    }, 2000);\n\n  }\n\n  //funcion para visualizar la notificacion\n  ver(tipo, idreutar, idnotificaciones) {\n\n    console.log(idnotificaciones);\n\n    //this.botones = \"white\";\n\n    let body = {\n      VistaMovil: 1,\n    };\n\n    this.postPvdr.updateNotificaciones(idnotificaciones, body).subscribe(\n      (data) => {\n        if (data != null) {\n        }\n      },\n      (error) => {\n        console.error(error);\n      }\n    )\n\n    if (tipo == \"Reunion\") {\n      // this.cargarNoti();\n      //console.log(id);\n      this.postPvdr.getReunion(idreutar).subscribe(\n        (dato) => { // Success\n          if (dato != null) {\n            this.detreuniones = dato;\n            console.log(this.detreuniones);\n            this.postPvdr.sendListReunion(this.detreuniones);\n            this.router.navigate(['/verreunion']);\n          }\n        },\n        (error) => {\n          console.error(error);\n        }\n      )\n    } else if (tipo == \"Tarea\") {\n      //  this.cargarNoti();\n      this.postPvdr.buscarTareas(idreutar).subscribe(\n        (dato) => { // Success\n          if (dato != null) {\n            this.detareas = dato;\n            console.log(dato);\n            this.postPvdr.sendListTarea(this.detareas);\n            this.router.navigate(['/vertarea']);\n          }\n        },\n        (error) => {\n          console.error(error);\n        }\n      )\n    }\n  }\n}\n\n"],"sourceRoot":""}